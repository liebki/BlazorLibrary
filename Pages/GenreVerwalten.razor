@inject SQLiteManager _db
@inject NavigationManager navMan

@page "/genreverwalten"

<LoginCheck />

<h1>Manage Genre</h1>

@if(GenreListe.Length > 0)
{
    <div class="form-group">
        <label for="genrefeld">Existing genre</label>
        <select multiple @bind="AuswahlGenre" class="form-control" id="genrefeld">
            @foreach (Genre gr in GenreListe)
            {
                <option value="@gr.Id">@gr.Name</option>
            }
        </select>
    </div>

    @if (AuswahlGenre.Length >= 1)
    {
        <button @onclick="LoescheGenre" class="btn btn-primary">Delete selection</button>
        <div class="clearfix"></div>
        <br />
    }

    @if(AuswahlGenre.Length == 1)
    {
        <div class="form-group">
            <label for="genreaendernfeld">Edit genre</label>
            <input @bind="editgenre.Name" type="text" class="form-control" id="genreaendernfeld" placeholder="Name of genre">
        </div>
        <button @onclick="AendereGenre" class="btn btn-primary">Edit genre</button>
        <div class="clearfix"></div>
        <br />
    }

} else
{
    <p>There are no genre, add some genre....</p>
}

<div class="form-group">
    <label for="genreerstellfeld">Create genre</label>
    <input @bind="NeuesGenre" type="text" class="form-control" id="genreerstellfeld" placeholder="Name of genre">
</div>
<button @onclick="ErstelleGenre" class="btn btn-primary">Create genre</button>