@inject SQLiteManager _db
@inject NavigationManager navMan

@page "/spielbearbeiten"

<h1>Edit game</h1>

<div class="form-group">
  <label for="namefeld">Name</label>
  <input @bind="Spiel.Name" type="text" class="form-control" id="namefeld" placeholder="Name">
</div>

<div class="form-group">
  <label for="beschreibungfeld">Description</label>
  <input @bind="Spiel.Beschreibung" type="text" class="form-control" id="beschreibungfeld" placeholder="Description">
</div>

<div class="form-group">
  <label for="bildfeld">Url to picture</label>
  <input @bind="Spiel.Bildlink" type="text" class="form-control" id="bildfeld" placeholder="Url to picture">
</div>

<div class="form-group">
  <label for="pfadfeld">Path to .exe</label>
  <input @bind="Spiel.Exepfad" type="text" class="form-control" id="pfadfeld" placeholder="Path to .exe">
  <br />
  <button @onclick="SelectExeFile" class="btn btn-primary">Choose file</button>
</div>

@if(GenreListe.Length > 0)
{
    <div class="form-group">
    <label for="genrefeld">Genre</label>
    <select multiple @bind="AuswahlGenre" class="form-control" id="genrefeld">
        @foreach (Genre gr in GenreListe)
        {
            <option value="@gr.Id">@gr.Name</option>
        }
    </select>
    </div>
} else
{
    <p>There are no genre, add some genre to use them here...</p>
}

<button @onclick="speichereDaten" class="btn btn-primary">Save</button>
<a href="/anzeige" class="btn btn-primary">Quit</a>
